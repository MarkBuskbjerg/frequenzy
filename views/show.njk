{% extends 'layout.njk' %}

{% set title = show.title %}

{% block content %}

    <img 
        class="w-12 h-12"
        src="{{ show.imageUrl | replace("\\", "/") }}" 
        alt="Cover for the show {{ show.title }}"
    >
    <div class="p-6 rounded-md bg-pink-200">
        <h2>Description</h2>
        <p>{{ show.showDescription }}</p>
    </div>
    <p>Explicit content? {{ show.explicitContent }}</p>
    <p>Category: {{ show.category }}</p>
    <p>showType: {{ show.showType }}</p>
    <p>Author: {{ show.author }}</p>
    <p>Copyright: {{ show.copyright }}</p>
    <p>Keywords: {{ show.keyword }}</p>
    <p>Website: {{ show.website }}</p>
    <p>Spoken language: {{ show.language}}</p>
    <p>Publishing timezone: {{ show.publishTimezone }}</p>
    <p>showOwner: {{ show.showOwner }}</p>
    <p>showOwnerEmail: {{ show.showOwnerEmail }}</p>

    <h3>Episodes:</h3>
    <ul>
        {% for episode in show.episodes %}
            <li>
                <a href="/episode/{{ episode._id }}" class="underline">{{ episode.title }} - {{ episode.audioPath }}</a>
            </li>
        {% endfor %}
    </ul>
    <div class="flex gap-3">
        <form action="/delete-show/{{ show._id }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this show?')">
            <button type="submit" class="bg-red-700 text-red-50 font-bold py-1 px-4 rounded-md">Delete Show</button>
        </form>
        <a href="/show/settings/{{ show._id }}" class="">Settings</a>
        <a href="/create-episode/{{ show._id }}" class="bg-green-700 text-green-50 font-bold py-1 px-4 rounded-md">Create episode</a>
    </div>
{% endblock %}